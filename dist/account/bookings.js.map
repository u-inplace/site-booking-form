{"version":3,"file":"account/bookings.js","mappings":"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","sources":["webpack://ui-booking/./node_modules/date-fns/esm/_lib/requiredArgs/index.js","webpack://ui-booking/./node_modules/date-fns/esm/_lib/toInteger/index.js","webpack://ui-booking/./node_modules/date-fns/esm/addMonths/index.js","webpack://ui-booking/./node_modules/date-fns/esm/toDate/index.js","webpack://ui-booking/./src/helpers/dates.js","webpack://ui-booking/webpack/bootstrap","webpack://ui-booking/webpack/runtime/define property getters","webpack://ui-booking/webpack/runtime/hasOwnProperty shorthand","webpack://ui-booking/webpack/runtime/make namespace object","webpack://ui-booking/./src/account/packages/bookings.js"],"sourcesContent":["export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\n\nexport default function addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  var dayOfMonth = date.getDate(); // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}","import requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","/**\n * Return all mondays of the month\n * @param {*} date\n * @returns\n */\nconst getMondays = date => {\n    const d = date ? new Date(date.getTime()) : new Date()\n    const month = d.getMonth()\n    const mondays = []\n\n    d.setDate(1)\n\n    // Get all the other Mondays in the month\n    while (d.getMonth() === month) {\n        mondays.push(new Date(d.getTime()))\n        d.setDate(d.getDate() + 7)\n    }\n\n    return mondays\n}\n\n/**\n * Return YYYY-MM-DD\n */\nexport const toISOStringShort = date => new Date(date).toISOString().slice(0, 10)\n\nexport { getMondays }\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* eslint-disable vars-on-top */\n/* eslint-disable no-var */\n\nimport { addMonths } from 'date-fns'\nimport { toISOStringShort } from '../../helpers/dates'\n\nclass BookingsController {\n    /** @type {import('../types/memberstack').Member} */\n    member\n\n    /**\n     * Initialize controller\n     */\n    async init() {\n        // Wait for MemberStack\n        // eslint-disable-next-line no-undef\n        const member = await MemberStack.onReady\n        this.member = member\n\n        this.load()\n    }\n\n    /**\n     * Fetch and load bookings\n     */\n    async load() {\n        // Fetch bookings for the upcoming 3 months\n        const dateFrom = new Date()\n        const dateTo = addMonths(dateFrom, 3)\n        const bookings = await this.fetch(dateFrom, dateTo)\n        console.log(JSON.stringify(bookings))\n    }\n\n    /**\n     * Fetch bookings for user within date range\n     * @param {Date} dateFrom\n     * @param {Date} dateTo\n     * @returns {import('../types/bookings').BookingsReadResponse}\n     */\n    async fetch(dateFrom, dateTo) {\n        const fromStr = toISOStringShort(dateFrom)\n        const toStr = toISOStringShort(dateTo)\n        const customer = Number(this.member['pootsy-id'])\n        let bookings = {}\n\n        try {\n            const url = new URL('https://blue.inplace.be/api/bookings')\n            const params = new URLSearchParams({\n                code: 'X0XQCODICDXlLbCRdgVHLlN7C-lNWRZ_DOZmJJkxyAj5AzFu3r05kw==',\n                customer,\n                fromDate: fromStr,\n                toDate: toStr\n            })\n\n            url.search = params\n            bookings = await fetch(url)\n            return bookings\n        } catch (err) {\n            console.error(err)\n            return {}\n        }\n    }\n}\n\n// eslint-disable-next-line no-use-before-define\nvar Webflow = Webflow || window.Webflow || []\nWebflow.push(() => {\n    const controller = new BookingsController()\n    controller.init()\n})\n"],"names":["requiredArgs","required","args","length","TypeError","toInteger","dirtyNumber","NaN","number","Number","isNaN","Math","ceil","floor","toDate","addMonths","dirtyDate","dirtyAmount","arguments","date","amount","Date","dayOfMonth","getDate","endOfDesiredMonth","getTime","setMonth","getMonth","daysInMonth","setFullYear","getFullYear","argument","argStr","Object","prototype","toString","call","console","warn","Error","stack","getMondays","d","month","mondays","setDate","push","toISOStringShort","toISOString","slice","BookingsController","member","init","MemberStack","onReady","load","dateFrom","dateTo","bookings","fetch","log","JSON","stringify","fromStr","toStr","customer","url","URL","params","URLSearchParams","code","fromDate","search","err","error","Webflow","window","controller"],"sourceRoot":""}