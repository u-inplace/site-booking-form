{"version":3,"file":"Calendar.bundle.js","mappings":"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AAI,IAAI,IAAIjE,IAAJ,CAASiE,IAAT,EAAeO,WAAf,GAA6BC,KAA7B,CAAmC,CAAnC,EAAsC,EAAtC,CAAjC;;;;;;;;;;;;ACxBP;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UElDA;UACA;UACA;UACA,oFAAoF,uDAAuD;UAC3I","sources":["webpack:///./src/calendar/main.js","webpack:///./src/helpers/dates.js","webpack:///./src/calendar/styles.css","webpack:///webpack/bootstrap","webpack:///webpack/runtime/chunk loaded","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/node module decorator","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["import Calendar from 'color-calendar'\nimport 'color-calendar/dist/css/theme-glass.css'\nimport { addMonths, startOfMonth } from 'date-fns'\nimport _ from 'lodash'\nimport { getMondays, toISOStringShort } from '../helpers/dates'\nimport './styles.css'\n\n/**\n * Constants\n */\nconst LoaderId = 'loaderBalls'\n\n/**\n * Calendar Controller\n */\nexport default class CalendarController {\n    #placeHolderID\n    #initialised\n    #request\n    #cached\n    #onDayChangeCb\n\n    constructor(placeHolderID, request, onDayChangeCb) {\n        // Store requested weeks\n        this.#cached = {}\n\n        this.#request = request\n        this.#onDayChangeCb = onDayChangeCb\n\n        this.#initialised = false\n        this.#placeHolderID = placeHolderID\n\n        const newLocal = this\n        newLocal.calendar = new Calendar({\n            id: `#${placeHolderID}`,\n            theme: 'glass',\n            weekdayType: 'long-upper',\n            startWeekday: 1,\n            monthDisplayType: 'long',\n            primaryColor: '#2aae75',\n            fontFamilyHeader: 'Poppins, sans-serif',\n            fontFamilyWeekdays: 'Poppins, sans-serif',\n            fontFamilyBody: 'Poppins, sans-serif',\n            calendarSize: 'large',\n            layoutModifiers: ['month-left-align'],\n            dropShadow: '',\n            dateChanged: this.onDateChange,\n            monthChanged: this.onMonthChange\n        })\n        // Add loading animation\n        this.addLoadingAnimation()\n    }\n\n    async init() {\n        this.#initialised = true\n\n        // In case of no dates available in the current month, skip to the next one\n        if (this.calendar.getEventsData().length === 0) {\n            const curr = new Date()\n            const next = addMonths(curr, 1)\n            await this.getMonthAvailability(next)\n        }\n\n        const slots = _.sortBy(this.calendar.getEventsData(), 'start')\n\n        if (slots?.length > 0) this.calendar.setDate(slots[0]?.start)\n    }\n\n    /**\n     * Load more dates\n     */\n    onMonthChange = async currentDate => {\n        const firstDay = startOfMonth(currentDate)\n        await this.getMonthAvailability(firstDay)\n        if (!this.#initialised) this.init()\n    }\n\n    /**\n     * Load slots into view\n     * @param {*} currentDate\n     * @param {*} events\n     */\n    // eslint-disable-next-line class-methods-use-this\n    onDateChange = (currentDate, events) => {\n        this.#onDayChangeCb(currentDate, events)\n    }\n\n    /**\n     * Start or stop loading animation\n     */\n    // eslint-disable-next-line class-methods-use-this\n    toggleLoading(isVisible) {\n        const loader = document.getElementById(LoaderId)\n        loader && (loader.style.visibility = isVisible ? 'visible' : 'hidden')\n    }\n\n    /**\n     * Create a hidden loading animation to be called in monthChange\n     */\n    // eslint-disable-next-line class-methods-use-this\n    addLoadingAnimation() {\n        // Add loading animation\n        const loader = document.createElement('div')\n        loader.classList.add('loader')\n        loader.id = LoaderId\n        loader.style.visibility = 'visible'\n        loader.innerHTML = `\n            <span class=\"loader__element\"></span>\n        `\n        document.getElementsByClassName('calendar__monthyear')[0].appendChild(loader)\n    }\n\n    async getMonthAvailability(startDate) {\n        this.toggleLoading(true)\n        await Promise.all(getMondays(startDate).map(monday => this.getAvailability(monday)))\n        this.toggleLoading()\n    }\n\n    /**\n     * Get Availability\n     */\n    async getAvailability(weekStartDate) {\n        const weekKey = toISOStringShort(weekStartDate)\n\n        if (weekStartDate < new Date() || this.#cached[weekKey]) return\n        this.#cached[weekKey] = true\n\n        const url = new URL('https://inplace-booking.azurewebsites.net/api/availability')\n        const params = new URLSearchParams({\n            code: 'jDlOk9eyca7HVUuVn2fRaIDQmv57z9l8bCHssUSMzpDugndIrzi5Tw==',\n            postalCode: this.#request.postalCode,\n            duration: this.#request.duration,\n            recurrence: this.#request.recurrence,\n            weekSearchDate: toISOStringShort(weekStartDate)\n        })\n\n        url.search = params\n        const res = await fetch(url)\n        const avail = await res.json()\n\n        // console.log(JSON.stringify(avail, null, 2))\n\n        const slotToEvent = slot => {\n            // Only add if it's still the same month as start of the week\n            // to avoid infinity loop with monthChanged event, which is triggered\n            // when a new event is added\n            if (new Date(slot.start_time).getMonth() !== weekStartDate.getMonth()) return\n\n            // eslint-disable-next-line consistent-return\n            return {\n                start: new Date(slot.start_time),\n                end: new Date(slot.end_time),\n                start_time: slot.label,\n                employee: {\n                    id: slot.affiliate_worker.worker_contract_id,\n                    first_name: slot.affiliate_worker.first_name,\n                    last_name: slot.affiliate_worker.last_name,\n                    allergies: slot.affiliate_worker.allergies\n                }\n            }\n        }\n\n        const newEvents = _.compact(\n            avail?.data\n                ?.map(dateAvail => dateAvail.time_slots.map(slot => slotToEvent(slot)))\n                .flat()\n        )\n\n        newEvents.length > 0 && this.calendar.addEventsData(newEvents)\n    }\n}\n","/**\n * Return all mondays of the month\n * @param {*} date\n * @returns\n */\nconst getMondays = date => {\n    const d = date ? new Date(date.getTime()) : new Date()\n    const month = d.getMonth()\n    const mondays = []\n\n    d.setDate(1)\n\n    // Get all the other Mondays in the month\n    while (d.getMonth() === month) {\n        mondays.push(new Date(d.getTime()))\n        d.setDate(d.getDate() + 7)\n    }\n\n    return mondays\n}\n\n/**\n * Return YYYY-MM-DD\n */\nexport const toISOStringShort = date => new Date(date).toISOString().slice(0, 10)\n\nexport { getMondays }\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"Calendar\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkCalendar\"] = self[\"webpackChunkCalendar\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/calendar/main.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["Calendar","addMonths","startOfMonth","_","getMondays","toISOStringShort","LoaderId","CalendarController","placeHolderID","initialised","request","cached","onDayChangeCb","constructor","newLocal","calendar","id","theme","weekdayType","startWeekday","monthDisplayType","primaryColor","fontFamilyHeader","fontFamilyWeekdays","fontFamilyBody","calendarSize","layoutModifiers","dropShadow","dateChanged","onDateChange","monthChanged","onMonthChange","addLoadingAnimation","init","getEventsData","length","curr","Date","next","getMonthAvailability","slots","sortBy","setDate","start","currentDate","firstDay","events","toggleLoading","isVisible","loader","document","getElementById","style","visibility","createElement","classList","add","innerHTML","getElementsByClassName","appendChild","startDate","Promise","all","map","monday","getAvailability","weekStartDate","weekKey","url","URL","params","URLSearchParams","code","postalCode","duration","recurrence","weekSearchDate","search","res","fetch","avail","json","slotToEvent","slot","start_time","getMonth","end","end_time","label","employee","affiliate_worker","worker_contract_id","first_name","last_name","allergies","newEvents","compact","data","dateAvail","time_slots","flat","addEventsData","date","d","getTime","month","mondays","push","getDate","toISOString","slice"],"sourceRoot":""}