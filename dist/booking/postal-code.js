/*! For license information please see postal-code.js.LICENSE.txt */
!function(){"use strict";function t(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}var e=function e(i,n){function s(e,s,r){if("undefined"!=typeof document){"number"==typeof(r=t({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var c in r)r[c]&&(o+="; "+c,!0!==r[c]&&(o+="="+r[c].split(";")[0]));return document.cookie=e+"="+i.write(s,e)+o}}return Object.create({set:s,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var e=document.cookie?document.cookie.split("; "):[],n={},s=0;s<e.length;s++){var r=e[s].split("="),o=r.slice(1).join("=");try{var c=decodeURIComponent(r[0]);if(n[c]=i.read(o,c),t===c)break}catch(t){}}return t?n[t]:n}},remove:function(e,i){s(e,"",t({},i,{expires:-1}))},withAttributes:function(i){return e(this.converter,t({},this.attributes,i))},withConverter:function(i){return e(t({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(i)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),i=e;const n="/booking",s="/booking/services",r="__booking";class o{#t;list;constructor(t){const e=i.get(r);if(e){const t=JSON.parse(e);this.list=t.seq}else this.init({});this.current=t}init({ironing:t=!1,cleaning:e=!1}={}){let i=[n,s];t&&i.push("/booking/ironing"),e&&i.push("/booking/cleaning"),i=i.concat(["/booking/duration","/booking/availability","/booking/confirmation"]),this.list=i,this.setCookies()}setCookies(){i.set(r,JSON.stringify({seq:this.list}),{secure:!0,sameSite:"strict"})}next(){return this.list[this.#t+1]}prev(){return this.list[this.#t-1]}get total(){return this.list.length}get current(){return this.list[this.#t]}set current(t){const e=Object.values(this.list).findIndex((e=>e===t));e>=0&&(this.#t=e)}get currentIndex(){return this.#t}}class c{static id(t){return document.getElementById(t)}static q(t){return document.querySelector(t)}static qall(t){return document.querySelectorAll(t)}static toast(t){const e=c.id(t);return e.classList.add("active"),setTimeout((()=>{e.classList.remove("active")}),4e3)}static set nextButtonDisabled(t){const e=document.querySelector(".next-button-flow");e&&(e.disabled=t,t?e.classList.add("disabled"):e.classList.remove("disabled"))}static queryOptions(t,e=!1){return Array.from(document.querySelectorAll(`input[id*='${t}']${e?":checked":""}`))}static getRadio(t,e=!1){return this.q(`input[name*="${t}"]${e?":checked":""}`)}static queryRadio(t,e=!1){return Array.from(this.qall(`input[name*='${t}']${e?":checked":""}`))}static getOption(t,e=!1){return this.q(`input[id*='${t}']${e?":checked":""}`)}}var a=c;class u{sequence;constructor({formId:t="wf-form-step",sequence:e=new o}){this.sequence=e,a.id(t)&&(a.id(t).onsubmit=this.onNext.bind(this)),a.id("back-button")?.addEventListener("click",this.onBack.bind(this)),window.onpopstate=this.onBack.bind(this)}restart(){window.location.href=s}goto(t){window.location.href=t}onNext(t){t.preventDefault(),history.pushState({},null,location.href),window.location.href=this.sequence.next()}onBack(){window.location.href=this.sequence.prev()}}const l=(t,e)=>t.replace(new RegExp(`^${e}`),"");class h{cookie;ops;constructor(){this.cookie=window.FpCookie,this.ops=this.cookie.store}get isValid(){return Object.keys(this.ops).length>0}#e(t){return Object.entries(this.ops).filter((([e,i])=>e.startsWith(t))).reduce(((e,[i,n])=>(e[l(i,t)]=n,e)),{})}#i(t,e){return Object.entries(this.ops).filter((([i,n])=>i.startsWith(t)&&(void 0===e||n===e))).map((([e,i])=>l(e,t)))}get cleaning(){return this.ops["service-cleaning"]?this.#e("cleaning-"):{}}get extras(){return this.ops["service-cleaning"]?this.#i("extra-",!0):[]}get extra(){return this.ops["service-cleaning"]?this.#e("extra-"):{}}get ironing(){return this.ops["service-ironing"]?this.ops.ironing.replace("ironing-size-",""):""}get postalCode(){return this.ops["postal-code"]}get services(){return this.#i("service-",!0)}get service(){return this.#e("service-")}get duration(){return this.ops?.duration}get recurrence(){return this.ops?.frequency}get start(){return new Date(this.ops["start-timestamp"])}get end(){return new Date(this.ops["end-timestamp"])}get teamMember(){return{id:this.ops["team-member"],name:this.ops["team-member-name"],firstName:this.ops["team-member-first-name"]}}}class d extends class{form;nav;ops;constructor(t,e="wf-form-step"){this.form=a.id(e),this.nav=new u({formId:e,sequence:new o(t)}),this.ops=new h,this.validateState()}init(){this.setupInputHandlers(),a.nextButtonDisabled=!0,this.toggleNext(),this.updateNav()}setupInputHandlers(){this.form.querySelectorAll("input").forEach((t=>{if("submit"===t.type)return;const e={radio:"click",number:"input"}[t.type]||"change";t.addEventListener(e,this.toggleNext.bind(this))}))}validateState(){this.ops.isValid&&this.ops.postalCode?0===this.ops.services.length&&this.nav.goto(s):this.nav.goto(n)}toggleNext(){a.nextButtonDisabled=this.isNextDisabled}get isNextDisabled(){return!1}updateNav(){a.id("step-nav").innerHTML=`Step ${this.nav.sequence.currentIndex}/${this.nav.sequence.total-1}`}}{coverage=["1070","1160","1082","1000","1040","1140","1190","1083","1130","1050","1090","1081","1020","1080","1120","1060","1210","1030","1180","1170","1200","1150"];constructor(){super(n)}init(){super.init(),this.nav.sequence.init(),this.pc.addEventListener("input",this.onPostalCode.bind(this))}validateState(){}get isNextDisabled(){const{pc:t}=this,{value:e}=t;return!this.coverage.includes(e)}get pc(){return a.id("postal-code")}toggleNext(){super.toggleNext(),this.isNextDisabled||a.id("next-btn").click()}onPostalCode(t){const e=t.target,{value:i}=e;i.length!==e.maxLength||this.coverage.includes(i)||(window.scrollTo({top:0,behavior:"smooth"}),a.toast("alert-area"))}updateNav(){}}var p=p||window.Webflow||[];p.push((()=>{(new d).init()}))}();
//# sourceMappingURL=postal-code.js.map